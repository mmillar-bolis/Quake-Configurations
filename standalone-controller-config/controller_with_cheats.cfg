// Quake Engine Configuration File
//
// Name: Controller Configuration
// Version: 0.5
// Author: MMillar
// https://github.com/mmillar-bolis
//
// Description:
// Settings related to dinput or xinput controllers.
//

// Console Header
echo "  \_Loading controller.cfg..."

//
// Aliases
//

// Set health value to 100
alias _set_health "give h 100; echo Player health set to 100"
// Set shotgun shell value to 100
alias _set_shells "give s 50; echo Item shells set to 50"
// Set nailgun ammo value to 100
alias _set_nails "give n 150; echo Item nails set to 150"
// Set rocket ammo value to 100
alias _set_rockets "give r 25; echo Item rockets set to 25"
// Set cell pack value to 100
alias _set_cells "give c 100; echo Item cells set to 100"

// Give ammo
alias give_ammo "bf; play weapons/lock4.wav; _set_shells; _set_nails; _set_rockets; _set_cells"

// Give Health
alias give_health "bf; play items/health1.wav; _set_health"

// Camera view switch button
alias view_swap "thirdperson_mode"
alias thirdperson_mode "alias view_swap firstperson_mode; chase_active 1; chase_back 64; chase_right 16; chase_up 8"
alias firstperson_mode "alias view_swap thirdperson_mode; chase_active 0"

// Weapon Cycling

// Axe Cycle
alias cycle_axe "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 1"

// Shotgun Cycle
alias cycle_shotgun "_cycle_shotgun01"
alias _cycle_shotgun01 "alias cycle_shotgun _cycle_shotgun02; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 2"
alias _cycle_shotgun02 "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 3"

// Nailgun Cycle
alias cycle_nailgun "_cycle_nailgun01"
alias _cycle_nailgun01 "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun02; alias cycle_rockets _cycle_rockets01; impulse 4"
alias _cycle_nailgun02 "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 5"

// Rocket Cycle
alias cycle_rockets "_cycle_rockets01"
alias _cycle_rockets01 "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets02; impulse 6"
alias _cycle_rockets02 "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 7"

// Lightning Cycle
alias cycle_lightning "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 8"

// Previous and next items/weapons
// Note: Impulse 12 is not implemented until patch 1.05.
alias invprev "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 12"
alias invnext "alias cycle_shotgun _cycle_shotgun01; alias cycle_nailgun _cycle_nailgun01; alias cycle_rockets _cycle_rockets01; impulse 10"

// General

// null input
alias "no_input" "impulse 32"

// Fake use key alias (scratch that itch)
alias "+fakeuse" "play player/pain3.wav"
alias "-fakeuse" "no_input"

// Reload user configuration files
alias reexec "exec autoexec.cfg"

//
// Joystick Settings
//

// Enable or disable controller support.
// default = 1
joy_enable "1"

// Sensitivity for left/right looking
// default = 300
joy_sensitivity_yaw "250"

// Sensitivity for up/down looking
// default = 150
joy_sensitivity_pitch "150"

// Invert the vertical axis for looking
// default = 0
joy_invert "0"

// The leniency value for player's aim adjustment.
// range = 0.0 to 1.0
// default = 0.93
sv_aim "1.0"

// Sets a more pleasant movement speed for controllers. Especially handy with
// sprint functions.
// default: 400
cl_forwardspeed "160"
cl_backspeed "160"
cl_sidespeed "160"

//
// Controller Button Binds
//

// Face Buttons (A, B, X, Y)
bind "ABUTTON" "+jump"
bind "BBUTTON" "no_input"
bind "XBUTTON" "+fakeuse"
bind "YBUTTON" "cycle_axe"

// Trigger Buttons
bind "LTRIGGER" "+speed"
bind "RTRIGGER" "+attack"

// Shoulder Buttons
bind "LSHOULDER" "invprev"
bind "RSHOULDER" "invnext"

// Thumbstick Buttons
bind "LTHUMB" "no_input"
bind "RTHUMB" "no_input"

// DPad and Arrow Keys
bind "UPARROW" "cycle_shotgun"
bind "DOWNARROW" "cycle_rockets"
bind "LEFTARROW" "cycle_lightning"
bind "RIGHTARROW" "cycle_nailgun"

// Alternative (Cheat) Binding Alias
alias "+joy_cheats" "bind BBUTTON god; bind XBUTTON reexec; bind YBUTTON noclip; bind LSHOULDER give_health; bind RSHOULDER give_ammo; bind RTHUMB view_swap"
alias "_joy_defaults" "bind BBUTTON no_input; bind XBUTTON +fakeuse; bind YBUTTON cycle_axe; bind LSHOULDER invprev; bind RSHOULDER invnext; bind RTHUMB no_input;"
alias "-joy_cheats" "_joy_defaults"

// NOTE: The Quakespasm engine doesn't seem to let you rebind start and back.
// Just comment this out if you're too tempted by cheats.
bind "LTHUMB" "+joy_cheats"

// Console Footer
echo "  \_Loading controller.cfg... Done."
